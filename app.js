!function(){"use strict";const e=document.querySelector("#theme-switch"),t=t=>{"light"===document.documentElement.getAttribute("theme")?(e.setAttribute("aria-checked","false"),document.documentElement.setAttribute("theme","dark")):(e.setAttribute("aria-checked","true"),document.documentElement.setAttribute("theme","light"))},r={email:/^(\w*)(\.)?(\w*)@([A-Za-z]*)(\.([A-Za-z]{1,})){1,}$/,country:/^([a-z]+\s*){1,}$/i,zipcode:/^\d{5}$/,password:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{10,}$/},a=document.querySelectorAll(".password-visibility"),n=e=>{"false"===e.target.getAttribute("aria-checked")?(e.target.setAttribute("aria-checked","true"),e.target.setAttribute("aria-label","password visible"),e.target.previousElementSibling.type="text"):(e.target.setAttribute("aria-checked","false"),e.target.setAttribute("aria-label","password hidden"),e.target.previousElementSibling.type="password")},i=document.querySelector("form"),l=document.querySelectorAll('input:not([type="submit"])'),s=document.querySelector("#email"),u=document.querySelector("#country"),o=document.querySelector("#zipcode"),d=document.querySelector("#password"),c=document.querySelector("#password-confirm"),m=e=>{const{email:t,country:a,zipcode:n,password:i}=r;return e.target!==s&&"submit"!==e.type||t.test(s.value)?(p(s),e.target!==u&&"submit"!==e.type||a.test(u.value)?(a.test(u.value)&&p(u),e.target!==o&&"submit"!==e.type||n.test(o.value)?(n.test(o.value)&&p(o),e.target!==d&&"submit"!==e.type||i.test(d.value)?(i.test(d.value)&&p(d.parentElement),e.target!==c&&"submit"!==e.type||c.value===d.value?(p(c.parentElement),!0):(y(c.parentElement),!1)):(y(d.parentElement),!1)):(y(o),!1)):(y(u),!1)):(y(s),!1)},y=e=>{e.classList.add("invalid"),e.nextElementSibling.style.display="inline-block"},p=e=>{e.classList.remove("invalid"),e.nextElementSibling.style.display="none"},b=document.querySelector("#main");t(),e.addEventListener("click",t),e.addEventListener("keydown",(e=>{" "===e.key&&(e.preventDefault(),t())})),Array.from(a).forEach((e=>{e.addEventListener("click",(e=>{n(e)}))})),Array.from(a).forEach((e=>{e.addEventListener("keydown",(e=>{" "!==e.key&&"Enter"!==e.key||n(e)}))})),Array.from(l).forEach((e=>{e.addEventListener("blur",m)})),i.addEventListener("submit",(e=>{e.preventDefault(),m(e)&&(()=>{for(;b.lastChild;)b.removeChild(b.lastChild);const e=document.createElement("h2");e.className="form-success",e.innerText="You've submitted a valid form!",b.appendChild(e),document.documentElement.scrollTop=0})()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS8uL3NyYy9zaXRlLXNldHRpbmdzLmpzIiwid2VicGFjazovL3RlbXBsYXRlLy4vc3JjL2Zvcm0uanMiLCJ3ZWJwYWNrOi8vdGVtcGxhdGUvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsidGhlbWVTd2l0Y2giLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0b2dnbGVUaGVtZSIsImUiLCJkb2N1bWVudEVsZW1lbnQiLCJnZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJyZWdleCIsImVtYWlsIiwiY291bnRyeSIsInppcGNvZGUiLCJwYXNzd29yZCIsInBhc3N3b3JkSWNvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwidG9nZ2xlUGFzc3dvcmRWaXNpYmlsaXR5IiwidGFyZ2V0IiwicHJldmlvdXNFbGVtZW50U2libGluZyIsInR5cGUiLCJmaWVsZHMiLCJlbWFpbElucHV0IiwiY291bnRyeUlucHV0IiwiemlwSW5wdXQiLCJwYXNzd29yZElucHV0IiwiY29uZmlybVBhc3N3b3JkIiwiY2hlY2tGaWVsZHMiLCJ0ZXN0IiwidmFsdWUiLCJyZW1vdmVJbnB1dEVycm9yIiwicGFyZW50RWxlbWVudCIsInNob3dJbnB1dEVycm9yIiwiY2xhc3NMaXN0IiwiYWRkIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwic3R5bGUiLCJkaXNwbGF5IiwicmVtb3ZlIiwibWFpbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJrZXkiLCJwcmV2ZW50RGVmYXVsdCIsIkFycmF5IiwiZnJvbSIsImZvckVhY2giLCJpY29uIiwiZmllbGQiLCJsYXN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImhlYWRpbmciLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiaW5uZXJUZXh0IiwiYXBwZW5kQ2hpbGQiLCJzY3JvbGxUb3AiLCJzdWJtaXRWYWxpZEZvcm0iXSwibWFwcGluZ3MiOiJ5QkFFRSxNQUFNQSxFQUFjQyxTQUFTQyxjQUFjLGlCQVlyQ0MsRUFBZUMs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UUUsSUFDekJBLEVBQU1QLGlCQUFpQixPQUFRYixNQUdqQyxtQkFBc0IsVUFBV3JCLElBQy9CQSxFQUFFb0MsaUJBQ0VmLEVBQVlyQixJRGdESSxNQUN0QixLQUFPaUMsRUFBS1MsV0FDVlQsRUFBS1UsWUFBWVYsRUFBS1MsV0FFeEIsTUFBTUUsRUFBVS9DLFNBQVNnRCxjQUFjLE1BQ3ZDRCxFQUFRRSxVQUFZLGVBQ3BCRixFQUFRRyxVQUFZLGlDQUNwQmQsRUFBS2UsWUFBWUosR0FDakIvQyxTQUFTSSxnQkFBZ0JnRCxVQUFZLEdDdkRqQ0MsTSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuICBjb25zdCB0aGVtZVN3aXRjaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGhlbWUtc3dpdGNoXCIpO1xuXG4gIGNvbnN0IGRhcmtUaGVtZSA9ICgpID0+IHtcbiAgICB0aGVtZVN3aXRjaC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWNoZWNrZWRcIiwgXCJmYWxzZVwiKTtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFwidGhlbWVcIiwgXCJkYXJrXCIpO1xuICB9O1xuXG4gIGNvbnN0IGxpZ2h0VGhlbWUgPSAoKSA9PiB7XG4gICAgdGhlbWVTd2l0Y2guc2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIsIFwidHJ1ZVwiKTtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFwidGhlbWVcIiwgXCJsaWdodFwiKTtcbiAgfTtcblxuICBjb25zdCB0b2dnbGVUaGVtZSA9IChlKSA9PiB7XG4gICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ0aGVtZVwiKSA9PT0gXCJsaWdodFwiKSB7XG4gICAgICBkYXJrVGhlbWUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGlnaHRUaGVtZSgpO1xuICAgIH07XG4gIH07XG5cblxuZXhwb3J0IHt0b2dnbGVUaGVtZSwgdGhlbWVTd2l0Y2h9IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHJlZ2V4ID0ge1xuICBlbWFpbDogL14oXFx3KikoXFwuKT8oXFx3KilAKFtBLVphLXpdKikoXFwuKFtBLVphLXpdezEsfSkpezEsfSQvLFxuICBjb3VudHJ5OiAvXihbYS16XStcXHMqKXsxLH0kL2ksXG4gIHppcGNvZGU6IC9eXFxkezV9JC8sXG4gIHBhc3N3b3JkOiAvXig/PS4qW2Etel0pKD89LipbQS1aXSkoPz0uKlxcZClbYS16QS1aXFxkXXsxMCx9JC9cbn1cblxuY29uc3QgcGFzc3dvcmRJY29ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucGFzc3dvcmQtdmlzaWJpbGl0eVwiKTtcbmNvbnN0IHRvZ2dsZVBhc3N3b3JkVmlzaWJpbGl0eSA9IChlKSA9PiB7XG4gIGlmIChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJhcmlhLWNoZWNrZWRcIikgPT09IFwiZmFsc2VcIikge1xuICAgIGUudGFyZ2V0LnNldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiLCBcInRydWVcIik7XG4gICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBcInBhc3N3b3JkIHZpc2libGVcIik7XG4gICAgZS50YXJnZXQucHJldmlvdXNFbGVtZW50U2libGluZy50eXBlID0gXCJ0ZXh0XCI7XG4gIH0gZWxzZSB7XG4gICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIsIFwiZmFsc2VcIik7XG4gICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBcInBhc3N3b3JkIGhpZGRlblwiKTtcbiAgICBlLnRhcmdldC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLnR5cGUgPSBcInBhc3N3b3JkXCI7XG4gIH1cbn07XG5cbmNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZm9ybVwiKTtcbmNvbnN0IGZpZWxkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0Om5vdChbdHlwZT1cInN1Ym1pdFwiXSknKVxuY29uc3QgZW1haWxJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZW1haWxcIik7XG5jb25zdCBjb3VudHJ5SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvdW50cnlcIik7XG5jb25zdCB6aXBJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjemlwY29kZVwiKTtcbmNvbnN0IHBhc3N3b3JkSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Bhc3N3b3JkXCIpO1xuY29uc3QgY29uZmlybVBhc3N3b3JkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwYXNzd29yZC1jb25maXJtXCIpO1xuY29uc3QgY2hlY2tGaWVsZHMgPSAoZSkgPT4ge1xuICBjb25zdCB7ZW1haWwsIGNvdW50cnksIHppcGNvZGUsIHBhc3N3b3JkfSA9IHJlZ2V4O1xuICBsZXQgdmFsaWRhdGVkID0gZmFsc2U7XG5cbiAgaWYgKChlLnRhcmdldCA9PT0gZW1haWxJbnB1dCB8fCBlLnR5cGUgPT09IFwic3VibWl0XCIpICYmXG4gICAgICAhZW1haWwudGVzdChlbWFpbElucHV0LnZhbHVlKSkge1xuICAgIHNob3dJbnB1dEVycm9yKGVtYWlsSW5wdXQpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICByZW1vdmVJbnB1dEVycm9yKGVtYWlsSW5wdXQpO1xuICB9O1xuXG4gIGlmICgoZS50YXJnZXQgPT09IGNvdW50cnlJbnB1dCB8fCBlLnR5cGUgPT09IFwic3VibWl0XCIpICYmXG4gICAgICAhY291bnRyeS50ZXN0KGNvdW50cnlJbnB1dC52YWx1ZSkpIHtcbiAgc2hvd0lucHV0RXJyb3IoY291bnRyeUlucHV0KTtcbiAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2UgaWYgKGNvdW50cnkudGVzdChjb3VudHJ5SW5wdXQudmFsdWUpKSB7XG4gIHJlbW92ZUlucHV0RXJyb3IoY291bnRyeUlucHV0KTtcbiAgfTtcblxuICBpZiAoKGUudGFyZ2V0ID09PSB6aXBJbnB1dCB8fCBlLnR5cGUgPT09IFwic3VibWl0XCIpICYmXG4gICAgICAhemlwY29kZS50ZXN0KHppcElucHV0LnZhbHVlKSkge1xuICBzaG93SW5wdXRFcnJvcih6aXBJbnB1dCk7XG4gIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIGlmICh6aXBjb2RlLnRlc3QoemlwSW5wdXQudmFsdWUpKSB7XG4gIHJlbW92ZUlucHV0RXJyb3IoemlwSW5wdXQpO1xuICB9O1xuXG4gIGlmICgoZS50YXJnZXQgPT09IHBhc3N3b3JkSW5wdXQgfHwgZS50eXBlID09PSBcInN1Ym1pdFwiKSAmJlxuICAgICAgIXBhc3N3b3JkLnRlc3QocGFzc3dvcmRJbnB1dC52YWx1ZSkpIHtcbiAgc2hvd0lucHV0RXJyb3IocGFzc3dvcmRJbnB1dC5wYXJlbnRFbGVtZW50KTtcbiAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2UgaWYgKHBhc3N3b3JkLnRlc3QocGFzc3dvcmRJbnB1dC52YWx1ZSkpIHtcbiAgcmVtb3ZlSW5wdXRFcnJvcihwYXNzd29yZElucHV0LnBhcmVudEVsZW1lbnQpO1xuICB9O1xuXG4gIGlmICgoZS50YXJnZXQgPT09IGNvbmZpcm1QYXNzd29yZCB8fCBlLnR5cGUgPT09IFwic3VibWl0XCIpICYmIFxuICAgICAgY29uZmlybVBhc3N3b3JkLnZhbHVlICE9PSBwYXNzd29yZElucHV0LnZhbHVlKSB7XG4gICAgc2hvd0lucHV0RXJyb3IoY29uZmlybVBhc3N3b3JkLnBhcmVudEVsZW1lbnQpO1xuICAgIHJldHVybiBmYWxzZVxuICB9IGVsc2Uge1xuICAgIHJlbW92ZUlucHV0RXJyb3IoY29uZmlybVBhc3N3b3JkLnBhcmVudEVsZW1lbnQpO1xuICB9O1xuXG4gIHJldHVybiB0cnVlO1xufVxuXG5jb25zdCBzaG93SW5wdXRFcnJvciA9ICh0YXJnZXQpID0+IHtcbiAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJpbnZhbGlkXCIpO1xuICB0YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xufVxuXG5jb25zdCByZW1vdmVJbnB1dEVycm9yID0gKHRhcmdldCkgPT4ge1xuICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZShcImludmFsaWRcIik7XG4gIHRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xufVxuXG5jb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtYWluXCIpO1xuY29uc3Qgc3VibWl0VmFsaWRGb3JtID0gKCkgPT4ge1xuICB3aGlsZSAobWFpbi5sYXN0Q2hpbGQpIHtcbiAgICBtYWluLnJlbW92ZUNoaWxkKG1haW4ubGFzdENoaWxkKTtcbiAgfVxuICBjb25zdCBoZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuICBoZWFkaW5nLmNsYXNzTmFtZSA9IFwiZm9ybS1zdWNjZXNzXCI7XG4gIGhlYWRpbmcuaW5uZXJUZXh0ID0gXCJZb3UndmUgc3VibWl0dGVkIGEgdmFsaWQgZm9ybSFcIjtcbiAgbWFpbi5hcHBlbmRDaGlsZChoZWFkaW5nKTtcbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IDA7XG59XG5cbmV4cG9ydCB7dG9nZ2xlUGFzc3dvcmRWaXNpYmlsaXR5LCBwYXNzd29yZEljb25zLCBmb3JtLCBmaWVsZHMsIGNoZWNrRmllbGRzLCBzdWJtaXRWYWxpZEZvcm19IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IHt0b2dnbGVUaGVtZSwgdGhlbWVTd2l0Y2h9IGZyb20gXCIuL3NpdGUtc2V0dGluZ3NcIjtcbmltcG9ydCB7dG9nZ2xlUGFzc3dvcmRWaXNpYmlsaXR5LCBwYXNzd29yZEljb25zLCBmb3JtLCBmaWVsZHMsIGNoZWNrRmllbGRzLCBzdWJtaXRWYWxpZEZvcm19IGZyb20gXCIuL2Zvcm1cIjtcblxuY29uc3Qgc2l0ZVRoZW1lID0gKCgpID0+IHtcbiAgdG9nZ2xlVGhlbWUoKTtcbiAgdGhlbWVTd2l0Y2guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRvZ2dsZVRoZW1lKTtcbiAgdGhlbWVTd2l0Y2guYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09IFwiIFwiKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0b2dnbGVUaGVtZSgpO1xuICAgIH07XG4gIH0pO1xufSkoKTtcblxuY29uc3QgaW5wdXRzID0gKCgpID0+IHtcbiAgQXJyYXkuZnJvbShwYXNzd29yZEljb25zKS5mb3JFYWNoKGljb24gPT4ge1xuICAgIGljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICB0b2dnbGVQYXNzd29yZFZpc2liaWxpdHkoZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIEFycmF5LmZyb20ocGFzc3dvcmRJY29ucykuZm9yRWFjaChpY29uID0+IHtcbiAgICBpY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XG4gICAgICBpZiAoZS5rZXkgPT09IFwiIFwiIHx8IGUua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgICAgdG9nZ2xlUGFzc3dvcmRWaXNpYmlsaXR5KGUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuXG4gIEFycmF5LmZyb20oZmllbGRzKS5mb3JFYWNoKGZpZWxkID0+IHtcbiAgICBmaWVsZC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCBjaGVja0ZpZWxkcylcbiAgfSlcblxuICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKGNoZWNrRmllbGRzKGUpKSB7XG4gICAgICBzdWJtaXRWYWxpZEZvcm0oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSlcbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIifQ==