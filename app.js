!function(){"use strict";const e=document.querySelector("#theme-switch"),t=t=>{"light"===document.documentElement.getAttribute("theme")?(e.setAttribute("aria-checked","false"),document.documentElement.setAttribute("theme","dark")):(e.setAttribute("aria-checked","true"),document.documentElement.setAttribute("theme","light"))},r={email:/^(\w*)(\.)?(\w*)@([A-Za-z]*)(\.([A-Za-z]{1,})){1,}$/,country:/^([a-z]+\s*){1,}$/i,zipcode:/^\d{5}$/,password:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{10,}$/},a=e=>{"false"===e.target.getAttribute("aria-checked")?(e.target.setAttribute("aria-checked","true"),e.target.setAttribute("aria-label","password visible"),e.target.previousElementSibling.type="text"):(e.target.setAttribute("aria-checked","false"),e.target.setAttribute("aria-label","password hidden"),e.target.previousElementSibling.type="password")},n=document.querySelector("#email"),i=document.querySelector("#country"),l=document.querySelector("#zipcode"),s=document.querySelector("#password"),u=document.querySelector("#confirm-password"),o=(document.querySelector('input[type="submit"]'),document.querySelector("#submit-error")),c=e=>{const{email:t,country:a,zipcode:o,password:c}=r;return e.target!==n&&"submit"!==e.type||t.test(n.value)?(t.test(n.value)&&m(n),e.target!==i&&"submit"!==e.type||a.test(i.value)?(a.test(i.value)&&m(i),e.target!==l&&"submit"!==e.type||o.test(l.value)?(o.test(l.value)&&m(l),e.target!==s&&"submit"!==e.type||c.test(s.value)?(c.test(s.value)&&m(s.parentElement),e.target!==u&&"submit"!==e.type||u.value===s.value?(m(u.parentElement),!0):(d(u.parentElement),!1)):(d(s.parentElement),!1)):(d(l),!1)):(d(i),!1)):(d(n),!1)},d=e=>{e.classList.add("invalid"),e.nextElementSibling.style.display="inline-block"},m=e=>{e.classList.remove("invalid"),e.nextElementSibling.style.display="none"},y=document.querySelector("#main");t(),e.addEventListener("click",t),e.addEventListener("keydown",(e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),t())})),(()=>{const e=document.querySelectorAll(".password-visibility");Array.from(e).forEach((e=>{e.addEventListener("click",(e=>{a(e)}))})),Array.from(e).forEach((e=>{e.addEventListener("keydown",(e=>{" "!==e.key&&"Enter"!==e.key||a(e)}))}));const t=document.querySelectorAll('input:not([type="submit"])');Array.from(t).forEach((e=>{e.addEventListener("blur",c)})),document.querySelector("form").addEventListener("submit",(e=>{e.preventDefault(),(e=>{c(e)||(o.style.display="inline-block")})(e),c(e)&&(()=>{for(;y.lastChild;)y.removeChild(y.lastChild);const e=document.createElement("h2");e.className="form-success",e.innerText="You've submitted a valid form!",y.appendChild(e),document.documentElement.scrollTop=0})()}))})()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS8uL3NyYy9zaXRlLXNldHRpbmdzLmpzIiwid2VicGFjazovL3RlbXBsYXRlLy4vc3JjL2Zvcm0uanMiLCJ3ZWJwYWNrOi8vdGVtcGxhdGUvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsidGhlbWVTd2l0Y2giLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0b2dnbGVUaGVtZSIsImUiLCJkb2N1bWVudEVsZW1lbnQiLCJnZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJyZWdleCIsImVtYWlsIiwiY291bnRyeSIsInppcGNvZGUiLCJwYXNzd29yZCIsInRvZ2dsZVBhc3N3b3JkVmlzaWJpbGl0eSIsInRhcmdldCIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJ0eXBlIiwiZW1haWxJbnB1dCIsImNvdW50cnlJbnB1dCIsInppcElucHV0IiwicGFzc3dvcmRJbnB1dCIsImNvbmZpcm1QYXNzd29yZCIsInN1Ym1pdEVycm9yIiwidmFsaWRhdGVGaWVsZHMiLCJ0ZXN0IiwidmFsdWUiLCJyZW1vdmVGb3JtRXJyb3IiLCJwYXJlbnRFbGVtZW50IiwiYWRkRm9ybUVycm9yIiwiY2xhc3NMaXN0IiwiYWRkIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwic3R5bGUiLCJkaXNwbGF5IiwicmVtb3ZlIiwibWFpbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJrZXkiLCJwcmV2ZW50RGVmYXVsdCIsInBhc3N3b3JkSWNvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiQXJyYXkiLCJmcm9tIiwiZm9yRWFjaCIsImljb24iLCJmaWVsZHMiLCJmaWVsZCIsImNoZWNrRXJyb3JzT25TdWJtaXQiLCJsYXN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImhlYWRpbmciLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiaW5uZXJUZXh0IiwiYXBwZW5kQ2hpbGQiLCJzY3JvbGxUb3AiLCJzdWJtaXRWYWxpZEZvcm0iXSwibWFwcGluZ3MiOiJ5QkFFRSxN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LEVBQUVpQyxLQUF5QixVQUFWakMsRUFBRWlDLEtBQ3JCeEIsRUFBeUJULFNBSy9CLE1BQU15QyxFQUFTNUMsU0FBU3VDLGlCQUFpQiw4QkFDekNDLE1BQU1DLEtBQUtHLEdBQVFGLFNBQVFHLElBQ3pCQSxFQUFNVixpQkFBaUIsT0FBUWIsTUFHcEJ0QixTQUFTQyxjQUFjLFFBQy9Ca0MsaUJBQWlCLFVBQVdoQyxJQUMvQkEsRUFBRWtDLGlCRGtEc0IsQ0FBQ2xDLElBQ3RCbUIsRUFBZW5CLEtBQ2xCa0IsRUFBWVUsTUFBTUMsUUFBVSxpQkNuRDVCYyxDQUFvQjNDLEdBQ2hCbUIsRUFBZW5CLElEdURDLE1BQ3RCLEtBQU8rQixFQUFLYSxXQUNWYixFQUFLYyxZQUFZZCxFQUFLYSxXQUV4QixNQUFNRSxFQUFVakQsU0FBU2tELGNBQWMsTUFDdkNELEVBQVFFLFVBQVksZUFDcEJGLEVBQVFHLFVBQVksaUNBQ3BCbEIsRUFBS21CLFlBQVlKLEdBQ2pCakQsU0FBU0ksZ0JBQWdCa0QsVUFBWSxHQzlEakNDLE9BMUJhLEciLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgY29uc3QgdGhlbWVTd2l0Y2ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RoZW1lLXN3aXRjaFwiKTtcblxuICBjb25zdCBkYXJrVGhlbWUgPSAoKSA9PiB7XG4gICAgdGhlbWVTd2l0Y2guc2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIsIFwiZmFsc2VcIik7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcInRoZW1lXCIsIFwiZGFya1wiKTtcbiAgfTtcblxuICBjb25zdCBsaWdodFRoZW1lID0gKCkgPT4ge1xuICAgIHRoZW1lU3dpdGNoLnNldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiLCBcInRydWVcIik7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcInRoZW1lXCIsIFwibGlnaHRcIik7XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlVGhlbWUgPSAoZSkgPT4ge1xuICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwidGhlbWVcIikgPT09IFwibGlnaHRcIikge1xuICAgICAgZGFya1RoZW1lKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpZ2h0VGhlbWUoKTtcbiAgICB9O1xuICB9O1xuXG5cbmV4cG9ydCB7dG9nZ2xlVGhlbWUsIHRoZW1lU3dpdGNofSIsIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCByZWdleCA9IHtcbiAgZW1haWw6IC9eKFxcdyopKFxcLik/KFxcdyopQChbQS1aYS16XSopKFxcLihbQS1aYS16XXsxLH0pKXsxLH0kLyxcbiAgY291bnRyeTogL14oW2Etel0rXFxzKil7MSx9JC9pLFxuICB6aXBjb2RlOiAvXlxcZHs1fSQvLFxuICBwYXNzd29yZDogL14oPz0uKlthLXpdKSg/PS4qW0EtWl0pKD89LipcXGQpW2EtekEtWlxcZF17MTAsfSQvLFxufTtcblxuY29uc3QgdG9nZ2xlUGFzc3dvcmRWaXNpYmlsaXR5ID0gKGUpID0+IHtcbiAgaWYgKGUudGFyZ2V0LmdldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiKSA9PT0gXCJmYWxzZVwiKSB7XG4gICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIsIFwidHJ1ZVwiKTtcbiAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIFwicGFzc3dvcmQgdmlzaWJsZVwiKTtcbiAgICBlLnRhcmdldC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLnR5cGUgPSBcInRleHRcIjtcbiAgfSBlbHNlIHtcbiAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWNoZWNrZWRcIiwgXCJmYWxzZVwiKTtcbiAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIFwicGFzc3dvcmQgaGlkZGVuXCIpO1xuICAgIGUudGFyZ2V0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcudHlwZSA9IFwicGFzc3dvcmRcIjtcbiAgfVxufTtcblxuY29uc3QgZW1haWxJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZW1haWxcIik7XG5jb25zdCBjb3VudHJ5SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvdW50cnlcIik7XG5jb25zdCB6aXBJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjemlwY29kZVwiKTtcbmNvbnN0IHBhc3N3b3JkSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Bhc3N3b3JkXCIpO1xuY29uc3QgY29uZmlybVBhc3N3b3JkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb25maXJtLXBhc3N3b3JkXCIpO1xuY29uc3Qgc3VibWl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cInN1Ym1pdFwiXScpO1xuY29uc3Qgc3VibWl0RXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3N1Ym1pdC1lcnJvclwiKTtcblxuY29uc3QgdmFsaWRhdGVGaWVsZHMgPSAoZSkgPT4ge1xuICBjb25zdCB7IGVtYWlsLCBjb3VudHJ5LCB6aXBjb2RlLCBwYXNzd29yZCB9ID0gcmVnZXg7XG5cbiAgaWYgKChlLnRhcmdldCA9PT0gZW1haWxJbnB1dCB8fCBlLnR5cGUgPT09IFwic3VibWl0XCIpICYmIFxuICAgICAgIWVtYWlsLnRlc3QoZW1haWxJbnB1dC52YWx1ZSkpIFxuICB7XG4gICAgYWRkRm9ybUVycm9yKGVtYWlsSW5wdXQpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIGlmIChlbWFpbC50ZXN0KGVtYWlsSW5wdXQudmFsdWUpKSB7XG4gICAgcmVtb3ZlRm9ybUVycm9yKGVtYWlsSW5wdXQpO1xuICB9XG5cbiAgaWYgKChlLnRhcmdldCA9PT0gY291bnRyeUlucHV0IHx8IGUudHlwZSA9PT0gXCJzdWJtaXRcIikgJiZcbiAgICAhY291bnRyeS50ZXN0KGNvdW50cnlJbnB1dC52YWx1ZSkpIFxuICB7XG4gICAgYWRkRm9ybUVycm9yKGNvdW50cnlJbnB1dCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2UgaWYgKGNvdW50cnkudGVzdChjb3VudHJ5SW5wdXQudmFsdWUpKSB7XG4gICAgcmVtb3ZlRm9ybUVycm9yKGNvdW50cnlJbnB1dCk7XG4gIH1cblxuICBpZiAoKGUudGFyZ2V0ID09PSB6aXBJbnB1dCB8fCBlLnR5cGUgPT09IFwic3VibWl0XCIpICYmXG4gICAgIXppcGNvZGUudGVzdCh6aXBJbnB1dC52YWx1ZSkpIFxuICB7XG4gICAgYWRkRm9ybUVycm9yKHppcElucHV0KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSBpZiAoemlwY29kZS50ZXN0KHppcElucHV0LnZhbHVlKSkge1xuICAgIHJlbW92ZUZvcm1FcnJvcih6aXBJbnB1dCk7XG4gIH1cblxuICBpZiAoKGUudGFyZ2V0ID09PSBwYXNzd29yZElucHV0IHx8IGUudHlwZSA9PT0gXCJzdWJtaXRcIikgJiZcbiAgICAhcGFzc3dvcmQudGVzdChwYXNzd29yZElucHV0LnZhbHVlKSkgXG4gIHtcbiAgICBhZGRGb3JtRXJyb3IocGFzc3dvcmRJbnB1dC5wYXJlbnRFbGVtZW50KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSBpZiAocGFzc3dvcmQudGVzdChwYXNzd29yZElucHV0LnZhbHVlKSkge1xuICAgIHJlbW92ZUZvcm1FcnJvcihwYXNzd29yZElucHV0LnBhcmVudEVsZW1lbnQpO1xuICB9XG5cbiAgaWYgKChlLnRhcmdldCA9PT0gY29uZmlybVBhc3N3b3JkIHx8IGUudHlwZSA9PT0gXCJzdWJtaXRcIikgJiZcbiAgICBjb25maXJtUGFzc3dvcmQudmFsdWUgIT09IHBhc3N3b3JkSW5wdXQudmFsdWUpIFxuICB7XG4gICAgYWRkRm9ybUVycm9yKGNvbmZpcm1QYXNzd29yZC5wYXJlbnRFbGVtZW50KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgcmVtb3ZlRm9ybUVycm9yKGNvbmZpcm1QYXNzd29yZC5wYXJlbnRFbGVtZW50KTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuY29uc3QgYWRkRm9ybUVycm9yID0gKHRhcmdldCkgPT4ge1xuICB0YXJnZXQuY2xhc3NMaXN0LmFkZChcImludmFsaWRcIik7XG4gIHRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG59O1xuXG5jb25zdCByZW1vdmVGb3JtRXJyb3IgPSAodGFyZ2V0KSA9PiB7XG4gIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKFwiaW52YWxpZFwiKTtcbiAgdGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG59O1xuXG5jb25zdCBjaGVja0Vycm9yc09uU3VibWl0ID0gKGUpID0+IHtcbiAgaWYgKCF2YWxpZGF0ZUZpZWxkcyhlKSkge1xuICAgIHN1Ym1pdEVycm9yLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuICB9XG59XG5cbmNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21haW5cIik7XG5jb25zdCBzdWJtaXRWYWxpZEZvcm0gPSAoKSA9PiB7XG4gIHdoaWxlIChtYWluLmxhc3RDaGlsZCkge1xuICAgIG1haW4ucmVtb3ZlQ2hpbGQobWFpbi5sYXN0Q2hpbGQpO1xuICB9XG4gIGNvbnN0IGhlYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gIGhlYWRpbmcuY2xhc3NOYW1lID0gXCJmb3JtLXN1Y2Nlc3NcIjtcbiAgaGVhZGluZy5pbm5lclRleHQgPSBcIllvdSd2ZSBzdWJtaXR0ZWQgYSB2YWxpZCBmb3JtIVwiO1xuICBtYWluLmFwcGVuZENoaWxkKGhlYWRpbmcpO1xuICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gMDtcbn07XG5cbmV4cG9ydCB7IHRvZ2dsZVBhc3N3b3JkVmlzaWJpbGl0eSwgdmFsaWRhdGVGaWVsZHMsIHN1Ym1pdFZhbGlkRm9ybSwgY2hlY2tFcnJvcnNPblN1Ym1pdCB9O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IHt0b2dnbGVUaGVtZSwgdGhlbWVTd2l0Y2h9IGZyb20gXCIuL3NpdGUtc2V0dGluZ3NcIjtcbmltcG9ydCB7dG9nZ2xlUGFzc3dvcmRWaXNpYmlsaXR5LCB2YWxpZGF0ZUZpZWxkcywgc3VibWl0VmFsaWRGb3JtLCBjaGVja0Vycm9yc09uU3VibWl0fSBmcm9tIFwiLi9mb3JtXCI7XG5cbmNvbnN0IHNpdGVUaGVtZSA9ICgoKSA9PiB7XG4gIHRvZ2dsZVRoZW1lKCk7XG4gIHRoZW1lU3dpdGNoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0b2dnbGVUaGVtZSk7XG4gIHRoZW1lU3dpdGNoLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSBcIiBcIiB8fCBlLmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0b2dnbGVUaGVtZSgpO1xuICAgIH07XG4gIH0pO1xufSkoKTtcblxuY29uc3QgZm9ybUV2ZW50cyA9ICgoKSA9PiB7XG4gIGNvbnN0IHBhc3N3b3JkSWNvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBhc3N3b3JkLXZpc2liaWxpdHlcIik7XG4gIEFycmF5LmZyb20ocGFzc3dvcmRJY29ucykuZm9yRWFjaChpY29uID0+IHtcbiAgICBpY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgdG9nZ2xlUGFzc3dvcmRWaXNpYmlsaXR5KGUpO1xuICAgIH0pO1xuICB9KTtcblxuICBBcnJheS5mcm9tKHBhc3N3b3JkSWNvbnMpLmZvckVhY2goaWNvbiA9PiB7XG4gICAgaWNvbi5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSBcIiBcIiB8fCBlLmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgIHRvZ2dsZVBhc3N3b3JkVmlzaWJpbGl0eShlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgY29uc3QgZmllbGRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQ6bm90KFt0eXBlPVwic3VibWl0XCJdKScpO1xuICBBcnJheS5mcm9tKGZpZWxkcykuZm9yRWFjaChmaWVsZCA9PiB7XG4gICAgZmllbGQuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgdmFsaWRhdGVGaWVsZHMpXG4gIH0pXG5cbiAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJmb3JtXCIpO1xuICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY2hlY2tFcnJvcnNPblN1Ym1pdChlKTtcbiAgICBpZiAodmFsaWRhdGVGaWVsZHMoZSkpIHtcbiAgICAgIHN1Ym1pdFZhbGlkRm9ybSgpO1xuICAgIH1cbiAgfSlcbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIifQ==