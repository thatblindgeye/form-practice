!function(){"use strict";const e=document.querySelector("#theme-switch"),t=t=>{"light"===document.documentElement.getAttribute("theme")?(e.setAttribute("aria-checked","false"),document.documentElement.setAttribute("theme","dark")):(e.setAttribute("aria-checked","true"),document.documentElement.setAttribute("theme","light"))},r={email:/^(\w*)(\.)?(\w*)@([A-Za-z]*)(\.([A-Za-z]{1,})){1,}$/,country:/^([a-z]+\s*){1,}$/i,zipcode:/^\d{5}$/,password:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{10,}$/},n=e=>{"false"===e.target.getAttribute("aria-checked")?(e.target.setAttribute("aria-checked","true"),e.target.textContent="visibility",e.target.previousElementSibling.type="text"):(e.target.setAttribute("aria-checked","false"),e.target.textContent="visibility_off",e.target.previousElementSibling.type="password")},i=document.querySelector("#email"),a=document.querySelector("#country"),l=document.querySelector("#zipcode"),s=document.querySelector("#password"),o=document.querySelector("#confirm-password"),u=document.querySelector("#submit-error"),c=e=>{const{email:t,country:n,zipcode:u,password:c}=r;return e.target!==i&&"submit"!==e.type||t.test(i.value)?(t.test(i.value)&&m(i),e.target!==a&&"submit"!==e.type||n.test(a.value)?(n.test(a.value)&&m(a),e.target!==l&&"submit"!==e.type||u.test(l.value)?(u.test(l.value)&&m(l),e.target!==s&&"submit"!==e.type||c.test(s.value)?(c.test(s.value)&&m(s.parentElement),e.target!==o&&"submit"!==e.type||o.value===s.value?(m(o.parentElement),!0):(d(o.parentElement),!1)):(d(s.parentElement),!1)):(d(l),!1)):(d(a),!1)):(d(i),!1)},d=e=>{e.classList.add("invalid"),e.nextElementSibling.style.display="inline-block"},m=e=>{e.classList.remove("invalid"),e.nextElementSibling.style.display="none"},y=document.querySelector("#main");t(),e.addEventListener("click",t),e.addEventListener("keydown",(e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),t())})),(()=>{const e=document.querySelectorAll(".password-visibility");Array.from(e).forEach((e=>{e.addEventListener("click",(e=>{n(e)}))})),Array.from(e).forEach((e=>{e.addEventListener("keydown",(e=>{" "!==e.key&&"Enter"!==e.key||n(e)}))}));const t=document.querySelectorAll('input:not([type="submit"])');Array.from(t).forEach((e=>{e.addEventListener("blur",c)})),document.querySelector("form").addEventListener("submit",(e=>{e.preventDefault(),(e=>{c(e)||(u.style.display="inline-block")})(e),c(e)&&(()=>{for(;y.lastChild;)y.removeChild(y.lastChild);const e=document.createElement("h2");e.className="form-success",e.innerText="You've submitted a valid form!",y.appendChild(e),document.documentElement.scrollTop=0})()}))})()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS8uL3NyYy9zaXRlLXNldHRpbmdzLmpzIiwid2VicGFjazovL3RlbXBsYXRlLy4vc3JjL2Zvcm0uanMiLCJ3ZWJwYWNrOi8vdGVtcGxhdGUvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsidGhlbWVTd2l0Y2giLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0b2dnbGVUaGVtZSIsImUiLCJkb2N1bWVudEVsZW1lbnQiLCJnZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJyZWdleCIsImVtYWlsIiwiY291bnRyeSIsInppcGNvZGUiLCJwYXNzd29yZCIsInRvZ2dsZVBhc3N3b3JkVmlzaWJpbGl0eSIsInRhcmdldCIsInRleHRDb250ZW50IiwicHJldmlvdXNFbGVtZW50U2libGluZyIsInR5cGUiLCJlbWFpbElucHV0IiwiY291bnRyeUlucHV0IiwiemlwSW5wdXQiLCJwYXNzd29yZElucHV0IiwiY29uZmlybVBhc3N3b3JkIiwic3VibWl0RXJyb3IiLCJ2YWxpZGF0ZUZpZWxkcyIsInRlc3QiLCJ2YWx1ZSIsInJlbW92ZUZvcm1FcnJvciIsInBhcmVudEVsZW1lbnQiLCJhZGRGb3JtRXJyb3IiLCJjbGFzc0xpc3QiLCJhZGQiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJzdHlsZSIsImRpc3BsYXkiLCJyZW1vdmUiLCJtYWluIiwiYWRkRXZlbnRMaXN0ZW5lciIsImtleSIsInByZXZlbnREZWZhdWx0IiwicGFzc3dvcmRJY29ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJBcnJheSIsImZyb20iLCJmb3JFYWNoIiwiaWNvbiIsImZpZWxkcyIsImZpZWxkIiwiY2hlY2tFcnJvcnNPblN1Ym1pdCIsImxhc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwiaGVhZGluZyIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJpbm5lclRleHQiLCJhcHBlbmRDaGlsZCIsInNjcm9sbFRvcCIsInN1Ym1pdFZhbGlkRm9ybSJdLCJtYXBw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QUF5QixVQUFWbEMsRUFBRWtDLEtBQ3JCekIsRUFBeUJULFNBSy9CLE1BQU0wQyxFQUFTN0MsU0FBU3dDLGlCQUFpQiw4QkFDekNDLE1BQU1DLEtBQUtHLEdBQVFGLFNBQVFHLElBQ3pCQSxFQUFNVixpQkFBaUIsT0FBUWIsTUFHcEJ2QixTQUFTQyxjQUFjLFFBQy9CbUMsaUJBQWlCLFVBQVdqQyxJQUMvQkEsRUFBRW1DLGlCRG1Ec0IsQ0FBQ25DLElBQ3RCb0IsRUFBZXBCLEtBQ2xCbUIsRUFBWVUsTUFBTUMsUUFBVSxpQkNwRDVCYyxDQUFvQjVDLEdBQ2hCb0IsRUFBZXBCLElEd0RDLE1BQ3RCLEtBQU9nQyxFQUFLYSxXQUNWYixFQUFLYyxZQUFZZCxFQUFLYSxXQUV4QixNQUFNRSxFQUFVbEQsU0FBU21ELGNBQWMsTUFDdkNELEVBQVFFLFVBQVksZUFDcEJGLEVBQVFHLFVBQVksaUNBQ3BCbEIsRUFBS21CLFlBQVlKLEdBQ2pCbEQsU0FBU0ksZ0JBQWdCbUQsVUFBWSxHQy9EakNDLE9BMUJhLEciLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgY29uc3QgdGhlbWVTd2l0Y2ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RoZW1lLXN3aXRjaFwiKTtcblxuICBjb25zdCBkYXJrVGhlbWUgPSAoKSA9PiB7XG4gICAgdGhlbWVTd2l0Y2guc2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIsIFwiZmFsc2VcIik7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcInRoZW1lXCIsIFwiZGFya1wiKTtcbiAgfTtcblxuICBjb25zdCBsaWdodFRoZW1lID0gKCkgPT4ge1xuICAgIHRoZW1lU3dpdGNoLnNldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiLCBcInRydWVcIik7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcInRoZW1lXCIsIFwibGlnaHRcIik7XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlVGhlbWUgPSAoZSkgPT4ge1xuICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwidGhlbWVcIikgPT09IFwibGlnaHRcIikge1xuICAgICAgZGFya1RoZW1lKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpZ2h0VGhlbWUoKTtcbiAgICB9O1xuICB9O1xuXG5cbmV4cG9ydCB7dG9nZ2xlVGhlbWUsIHRoZW1lU3dpdGNofSIsIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCByZWdleCA9IHtcbiAgZW1haWw6IC9eKFxcdyopKFxcLik/KFxcdyopQChbQS1aYS16XSopKFxcLihbQS1aYS16XXsxLH0pKXsxLH0kLyxcbiAgY291bnRyeTogL14oW2Etel0rXFxzKil7MSx9JC9pLFxuICB6aXBjb2RlOiAvXlxcZHs1fSQvLFxuICBwYXNzd29yZDogL14oPz0uKlthLXpdKSg/PS4qW0EtWl0pKD89LipcXGQpW2EtekEtWlxcZF17MTAsfSQvLFxufTtcblxuY29uc3QgdG9nZ2xlUGFzc3dvcmRWaXNpYmlsaXR5ID0gKGUpID0+IHtcbiAgaWYgKGUudGFyZ2V0LmdldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiKSA9PT0gXCJmYWxzZVwiKSB7XG4gICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIsIFwidHJ1ZVwiKTtcbiAgICAvLyBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIFwicGFzc3dvcmQgdmlzaWJsZVwiKTtcbiAgICBlLnRhcmdldC50ZXh0Q29udGVudCA9IFwidmlzaWJpbGl0eVwiO1xuICAgIGUudGFyZ2V0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcudHlwZSA9IFwidGV4dFwiO1xuICB9IGVsc2Uge1xuICAgIGUudGFyZ2V0LnNldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiLCBcImZhbHNlXCIpO1xuICAgIC8vIGUudGFyZ2V0LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgXCJwYXNzd29yZCBoaWRkZW5cIik7XG4gICAgZS50YXJnZXQudGV4dENvbnRlbnQgPSBcInZpc2liaWxpdHlfb2ZmXCI7XG4gICAgZS50YXJnZXQucHJldmlvdXNFbGVtZW50U2libGluZy50eXBlID0gXCJwYXNzd29yZFwiO1xuICB9XG59O1xuXG5jb25zdCBlbWFpbElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlbWFpbFwiKTtcbmNvbnN0IGNvdW50cnlJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY291bnRyeVwiKTtcbmNvbnN0IHppcElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN6aXBjb2RlXCIpO1xuY29uc3QgcGFzc3dvcmRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGFzc3dvcmRcIik7XG5jb25zdCBjb25maXJtUGFzc3dvcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbmZpcm0tcGFzc3dvcmRcIik7XG5jb25zdCBzdWJtaXRFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc3VibWl0LWVycm9yXCIpO1xuXG5jb25zdCB2YWxpZGF0ZUZpZWxkcyA9IChlKSA9PiB7XG4gIGNvbnN0IHsgZW1haWwsIGNvdW50cnksIHppcGNvZGUsIHBhc3N3b3JkIH0gPSByZWdleDtcblxuICBpZiAoKGUudGFyZ2V0ID09PSBlbWFpbElucHV0IHx8IGUudHlwZSA9PT0gXCJzdWJtaXRcIikgJiYgXG4gICAgICAhZW1haWwudGVzdChlbWFpbElucHV0LnZhbHVlKSkgXG4gIHtcbiAgICBhZGRGb3JtRXJyb3IoZW1haWxJbnB1dCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2UgaWYgKGVtYWlsLnRlc3QoZW1haWxJbnB1dC52YWx1ZSkpIHtcbiAgICByZW1vdmVGb3JtRXJyb3IoZW1haWxJbnB1dCk7XG4gIH1cblxuICBpZiAoKGUudGFyZ2V0ID09PSBjb3VudHJ5SW5wdXQgfHwgZS50eXBlID09PSBcInN1Ym1pdFwiKSAmJlxuICAgICFjb3VudHJ5LnRlc3QoY291bnRyeUlucHV0LnZhbHVlKSkgXG4gIHtcbiAgICBhZGRGb3JtRXJyb3IoY291bnRyeUlucHV0KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSBpZiAoY291bnRyeS50ZXN0KGNvdW50cnlJbnB1dC52YWx1ZSkpIHtcbiAgICByZW1vdmVGb3JtRXJyb3IoY291bnRyeUlucHV0KTtcbiAgfVxuXG4gIGlmICgoZS50YXJnZXQgPT09IHppcElucHV0IHx8IGUudHlwZSA9PT0gXCJzdWJtaXRcIikgJiZcbiAgICAhemlwY29kZS50ZXN0KHppcElucHV0LnZhbHVlKSkgXG4gIHtcbiAgICBhZGRGb3JtRXJyb3IoemlwSW5wdXQpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIGlmICh6aXBjb2RlLnRlc3QoemlwSW5wdXQudmFsdWUpKSB7XG4gICAgcmVtb3ZlRm9ybUVycm9yKHppcElucHV0KTtcbiAgfVxuXG4gIGlmICgoZS50YXJnZXQgPT09IHBhc3N3b3JkSW5wdXQgfHwgZS50eXBlID09PSBcInN1Ym1pdFwiKSAmJlxuICAgICFwYXNzd29yZC50ZXN0KHBhc3N3b3JkSW5wdXQudmFsdWUpKSBcbiAge1xuICAgIGFkZEZvcm1FcnJvcihwYXNzd29yZElucHV0LnBhcmVudEVsZW1lbnQpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIGlmIChwYXNzd29yZC50ZXN0KHBhc3N3b3JkSW5wdXQudmFsdWUpKSB7XG4gICAgcmVtb3ZlRm9ybUVycm9yKHBhc3N3b3JkSW5wdXQucGFyZW50RWxlbWVudCk7XG4gIH1cblxuICBpZiAoKGUudGFyZ2V0ID09PSBjb25maXJtUGFzc3dvcmQgfHwgZS50eXBlID09PSBcInN1Ym1pdFwiKSAmJlxuICAgIGNvbmZpcm1QYXNzd29yZC52YWx1ZSAhPT0gcGFzc3dvcmRJbnB1dC52YWx1ZSkgXG4gIHtcbiAgICBhZGRGb3JtRXJyb3IoY29uZmlybVBhc3N3b3JkLnBhcmVudEVsZW1lbnQpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICByZW1vdmVGb3JtRXJyb3IoY29uZmlybVBhc3N3b3JkLnBhcmVudEVsZW1lbnQpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBhZGRGb3JtRXJyb3IgPSAodGFyZ2V0KSA9PiB7XG4gIHRhcmdldC5jbGFzc0xpc3QuYWRkKFwiaW52YWxpZFwiKTtcbiAgdGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbn07XG5cbmNvbnN0IHJlbW92ZUZvcm1FcnJvciA9ICh0YXJnZXQpID0+IHtcbiAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoXCJpbnZhbGlkXCIpO1xuICB0YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbn07XG5cbmNvbnN0IGNoZWNrRXJyb3JzT25TdWJtaXQgPSAoZSkgPT4ge1xuICBpZiAoIXZhbGlkYXRlRmllbGRzKGUpKSB7XG4gICAgc3VibWl0RXJyb3Iuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG4gIH1cbn1cblxuY29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbWFpblwiKTtcbmNvbnN0IHN1Ym1pdFZhbGlkRm9ybSA9ICgpID0+IHtcbiAgd2hpbGUgKG1haW4ubGFzdENoaWxkKSB7XG4gICAgbWFpbi5yZW1vdmVDaGlsZChtYWluLmxhc3RDaGlsZCk7XG4gIH1cbiAgY29uc3QgaGVhZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcbiAgaGVhZGluZy5jbGFzc05hbWUgPSBcImZvcm0tc3VjY2Vzc1wiO1xuICBoZWFkaW5nLmlubmVyVGV4dCA9IFwiWW91J3ZlIHN1Ym1pdHRlZCBhIHZhbGlkIGZvcm0hXCI7XG4gIG1haW4uYXBwZW5kQ2hpbGQoaGVhZGluZyk7XG4gIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSAwO1xufTtcblxuZXhwb3J0IHsgdG9nZ2xlUGFzc3dvcmRWaXNpYmlsaXR5LCB2YWxpZGF0ZUZpZWxkcywgc3VibWl0VmFsaWRGb3JtLCBjaGVja0Vycm9yc09uU3VibWl0IH07XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5pbXBvcnQge3RvZ2dsZVRoZW1lLCB0aGVtZVN3aXRjaH0gZnJvbSBcIi4vc2l0ZS1zZXR0aW5nc1wiO1xuaW1wb3J0IHt0b2dnbGVQYXNzd29yZFZpc2liaWxpdHksIHZhbGlkYXRlRmllbGRzLCBzdWJtaXRWYWxpZEZvcm0sIGNoZWNrRXJyb3JzT25TdWJtaXR9IGZyb20gXCIuL2Zvcm1cIjtcblxuY29uc3Qgc2l0ZVRoZW1lID0gKCgpID0+IHtcbiAgdG9nZ2xlVGhlbWUoKTtcbiAgdGhlbWVTd2l0Y2guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRvZ2dsZVRoZW1lKTtcbiAgdGhlbWVTd2l0Y2guYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09IFwiIFwiIHx8IGUua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRvZ2dsZVRoZW1lKCk7XG4gICAgfTtcbiAgfSk7XG59KSgpO1xuXG5jb25zdCBmb3JtRXZlbnRzID0gKCgpID0+IHtcbiAgY29uc3QgcGFzc3dvcmRJY29ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucGFzc3dvcmQtdmlzaWJpbGl0eVwiKTtcbiAgQXJyYXkuZnJvbShwYXNzd29yZEljb25zKS5mb3JFYWNoKGljb24gPT4ge1xuICAgIGljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICB0b2dnbGVQYXNzd29yZFZpc2liaWxpdHkoZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIEFycmF5LmZyb20ocGFzc3dvcmRJY29ucykuZm9yRWFjaChpY29uID0+IHtcbiAgICBpY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XG4gICAgICBpZiAoZS5rZXkgPT09IFwiIFwiIHx8IGUua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgICAgdG9nZ2xlUGFzc3dvcmRWaXNpYmlsaXR5KGUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBjb25zdCBmaWVsZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dDpub3QoW3R5cGU9XCJzdWJtaXRcIl0pJyk7XG4gIEFycmF5LmZyb20oZmllbGRzKS5mb3JFYWNoKGZpZWxkID0+IHtcbiAgICBmaWVsZC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCB2YWxpZGF0ZUZpZWxkcylcbiAgfSlcblxuICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImZvcm1cIik7XG4gIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjaGVja0Vycm9yc09uU3VibWl0KGUpO1xuICAgIGlmICh2YWxpZGF0ZUZpZWxkcyhlKSkge1xuICAgICAgc3VibWl0VmFsaWRGb3JtKCk7XG4gICAgfVxuICB9KVxufSkoKTsiXSwic291cmNlUm9vdCI6IiJ9