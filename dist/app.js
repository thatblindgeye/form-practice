!function(){"use strict";const e=document.querySelector("#theme-switch"),t=t=>{"light"===document.documentElement.getAttribute("theme")?(e.setAttribute("aria-checked","false"),document.documentElement.setAttribute("theme","dark")):(e.setAttribute("aria-checked","true"),document.documentElement.setAttribute("theme","light"))},r={email:/^(\w*)(\.)?(\w*)@([A-Za-z]*)(\.([A-Za-z]{1,})){1,}$/,country:/^([a-z]+\s*){1,}$/i,zipcode:/^\d{5}$/,password:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{10,}$/},n=e=>{"false"===e.target.getAttribute("aria-pressed")?(e.target.setAttribute("aria-pressed","true"),e.target.textContent="visibility",e.target.previousElementSibling.type="text"):(e.target.setAttribute("aria-pressed","false"),e.target.textContent="visibility_off",e.target.previousElementSibling.type="password")},i=document.querySelector("#email"),a=document.querySelector("#country"),s=document.querySelector("#zipcode"),l=document.querySelector("#password"),o=document.querySelector("#confirm-password"),u=document.querySelector("#submit-error"),c=e=>{const{email:t,country:n,zipcode:u,password:c}=r;return e.target!==i&&"submit"!==e.type||t.test(i.value)?(t.test(i.value)&&m(i),e.target!==a&&"submit"!==e.type||n.test(a.value)?(n.test(a.value)&&m(a),e.target!==s&&"submit"!==e.type||u.test(s.value)?(u.test(s.value)&&m(s),e.target!==l&&"submit"!==e.type||c.test(l.value)?(c.test(l.value)&&m(l.parentElement),e.target!==o&&"submit"!==e.type||o.value===l.value?(m(o.parentElement),!0):(d(o.parentElement),!1)):(d(l.parentElement),!1)):(d(s),!1)):(d(a),!1)):(d(i),!1)},d=e=>{m(e),e.classList.add("invalid"),e.nextElementSibling.style.display="inline-block"},m=e=>{e.classList.remove("invalid"),e.nextElementSibling.style.display="none"},y=document.querySelector("#main");t(),e.addEventListener("click",t),e.addEventListener("keydown",(e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),t())})),(()=>{const e=document.querySelectorAll(".password-visibility");Array.from(e).forEach((e=>{e.addEventListener("click",(e=>{n(e)}))})),Array.from(e).forEach((e=>{e.addEventListener("keydown",(e=>{" "!==e.key&&"Enter"!==e.key||n(e)}))}));const t=document.querySelectorAll('input:not([type="submit"])');Array.from(t).forEach((e=>{e.addEventListener("blur",c)})),document.querySelector("form").addEventListener("submit",(e=>{e.preventDefault(),(e=>{c(e)||(u.style.display="inline-block")})(e),c(e)&&(()=>{for(;y.lastChild;)y.removeChild(y.lastChild);const e=document.createElement("h2");e.className="form-success",e.innerText="You've submitted a valid form!",y.appendChild(e),document.documentElement.scrollTop=0})()}))})()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS8uL3NyYy9zaXRlLXNldHRpbmdzLmpzIiwid2VicGFjazovL3RlbXBsYXRlLy4vc3JjL2Zvcm0uanMiLCJ3ZWJwYWNrOi8vdGVtcGxhdGUvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsidGhlbWVTd2l0Y2giLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0b2dnbGVUaGVtZSIsImUiLCJkb2N1bWVudEVsZW1lbnQiLCJnZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJyZWdleCIsImVtYWlsIiwiY291bnRyeSIsInppcGNvZGUiLCJwYXNzd29yZCIsInRvZ2dsZVBhc3N3b3JkVmlzaWJpbGl0eSIsInRhcmdldCIsInRleHRDb250ZW50IiwicHJldmlvdXNFbGVtZW50U2libGluZyIsInR5cGUiLCJlbWFpbElucHV0IiwiY291bnRyeUlucHV0IiwiemlwSW5wdXQiLCJwYXNzd29yZElucHV0IiwiY29uZmlybVBhc3N3b3JkIiwic3VibWl0RXJyb3IiLCJ2YWxpZGF0ZUZpZWxkcyIsInRlc3QiLCJ2YWx1ZSIsInJlbW92ZUZvcm1FcnJvciIsInBhcmVudEVsZW1lbnQiLCJhZGRGb3JtRXJyb3IiLCJjbGFzc0xpc3QiLCJhZGQiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJzdHlsZSIsImRpc3BsYXkiLCJyZW1vdmUiLCJtYWluIiwiYWRkRXZlbnRMaXN0ZW5lciIsImtleSIsInByZXZlbnREZWZhdWx0IiwicGFzc3dvcmRJY29ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJBcnJheSIsImZyb20iLCJmb3JFYWNoIiwiaWNvbiIsImZpZWxkcyIsImZpZWxkIiwiY2hlY2tFcnJvcnNPblN1Ym1pdCIsImxhc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwiaGVhZGluZyIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJpbm5lclRleHQiLCJhcHBlbmRDaGlsZCIsInNjcm9sbFRvcCIsInN1Ym1pdFZhbGlkRm9ybSJdLCJtYXBw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TUFBVkEsRUFBRWtDLEtBQXlCLFVBQVZsQyxFQUFFa0MsS0FDckJ6QixFQUF5QlQsU0FLL0IsTUFBTTBDLEVBQVM3QyxTQUFTd0MsaUJBQWlCLDhCQUN6Q0MsTUFBTUMsS0FBS0csR0FBUUYsU0FBUUcsSUFDekJBLEVBQU1WLGlCQUFpQixPQUFRYixNQUdwQnZCLFNBQVNDLGNBQWMsUUFDL0JtQyxpQkFBaUIsVUFBV2pDLElBQy9CQSxFQUFFbUMsaUJEa0RzQixDQUFDbkMsSUFDdEJvQixFQUFlcEIsS0FDbEJtQixFQUFZVSxNQUFNQyxRQUFVLGlCQ25ENUJjLENBQW9CNUMsR0FDaEJvQixFQUFlcEIsSUR1REMsTUFDdEIsS0FBT2dDLEVBQUthLFdBQ1ZiLEVBQUtjLFlBQVlkLEVBQUthLFdBRXhCLE1BQU1FLEVBQVVsRCxTQUFTbUQsY0FBYyxNQUN2Q0QsRUFBUUUsVUFBWSxlQUNwQkYsRUFBUUcsVUFBWSxpQ0FDcEJsQixFQUFLbUIsWUFBWUosR0FDakJsRCxTQUFTSSxnQkFBZ0JtRCxVQUFZLEdDOURqQ0MsT0ExQmEsRyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuICBjb25zdCB0aGVtZVN3aXRjaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGhlbWUtc3dpdGNoXCIpO1xuXG4gIGNvbnN0IGRhcmtUaGVtZSA9ICgpID0+IHtcbiAgICB0aGVtZVN3aXRjaC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWNoZWNrZWRcIiwgXCJmYWxzZVwiKTtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFwidGhlbWVcIiwgXCJkYXJrXCIpO1xuICB9O1xuXG4gIGNvbnN0IGxpZ2h0VGhlbWUgPSAoKSA9PiB7XG4gICAgdGhlbWVTd2l0Y2guc2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIsIFwidHJ1ZVwiKTtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFwidGhlbWVcIiwgXCJsaWdodFwiKTtcbiAgfTtcblxuICBjb25zdCB0b2dnbGVUaGVtZSA9IChlKSA9PiB7XG4gICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ0aGVtZVwiKSA9PT0gXCJsaWdodFwiKSB7XG4gICAgICBkYXJrVGhlbWUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGlnaHRUaGVtZSgpO1xuICAgIH07XG4gIH07XG5cblxuZXhwb3J0IHt0b2dnbGVUaGVtZSwgdGhlbWVTd2l0Y2h9IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHJlZ2V4ID0ge1xuICBlbWFpbDogL14oXFx3KikoXFwuKT8oXFx3KilAKFtBLVphLXpdKikoXFwuKFtBLVphLXpdezEsfSkpezEsfSQvLFxuICBjb3VudHJ5OiAvXihbYS16XStcXHMqKXsxLH0kL2ksXG4gIHppcGNvZGU6IC9eXFxkezV9JC8sXG4gIHBhc3N3b3JkOiAvXig/PS4qW2Etel0pKD89LipbQS1aXSkoPz0uKlxcZClbYS16QS1aXFxkXXsxMCx9JC8sXG59O1xuXG5jb25zdCB0b2dnbGVQYXNzd29yZFZpc2liaWxpdHkgPSAoZSkgPT4ge1xuICBpZiAoZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIpID09PSBcImZhbHNlXCIpIHtcbiAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIiwgXCJ0cnVlXCIpO1xuICAgIGUudGFyZ2V0LnRleHRDb250ZW50ID0gXCJ2aXNpYmlsaXR5XCI7XG4gICAgZS50YXJnZXQucHJldmlvdXNFbGVtZW50U2libGluZy50eXBlID0gXCJ0ZXh0XCI7XG4gIH0gZWxzZSB7XG4gICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsIFwiZmFsc2VcIik7XG4gICAgZS50YXJnZXQudGV4dENvbnRlbnQgPSBcInZpc2liaWxpdHlfb2ZmXCI7XG4gICAgZS50YXJnZXQucHJldmlvdXNFbGVtZW50U2libGluZy50eXBlID0gXCJwYXNzd29yZFwiO1xuICB9XG59O1xuXG5jb25zdCBlbWFpbElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlbWFpbFwiKTtcbmNvbnN0IGNvdW50cnlJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY291bnRyeVwiKTtcbmNvbnN0IHppcElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN6aXBjb2RlXCIpO1xuY29uc3QgcGFzc3dvcmRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGFzc3dvcmRcIik7XG5jb25zdCBjb25maXJtUGFzc3dvcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbmZpcm0tcGFzc3dvcmRcIik7XG5jb25zdCBzdWJtaXRFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc3VibWl0LWVycm9yXCIpO1xuXG5jb25zdCB2YWxpZGF0ZUZpZWxkcyA9IChlKSA9PiB7XG4gIGNvbnN0IHsgZW1haWwsIGNvdW50cnksIHppcGNvZGUsIHBhc3N3b3JkIH0gPSByZWdleDtcblxuICBpZiAoKGUudGFyZ2V0ID09PSBlbWFpbElucHV0IHx8IGUudHlwZSA9PT0gXCJzdWJtaXRcIikgJiYgXG4gICAgICAhZW1haWwudGVzdChlbWFpbElucHV0LnZhbHVlKSkgXG4gIHtcbiAgICBhZGRGb3JtRXJyb3IoZW1haWxJbnB1dCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2UgaWYgKGVtYWlsLnRlc3QoZW1haWxJbnB1dC52YWx1ZSkpIHtcbiAgICByZW1vdmVGb3JtRXJyb3IoZW1haWxJbnB1dCk7XG4gIH1cblxuICBpZiAoKGUudGFyZ2V0ID09PSBjb3VudHJ5SW5wdXQgfHwgZS50eXBlID09PSBcInN1Ym1pdFwiKSAmJlxuICAgICFjb3VudHJ5LnRlc3QoY291bnRyeUlucHV0LnZhbHVlKSkgXG4gIHtcbiAgICBhZGRGb3JtRXJyb3IoY291bnRyeUlucHV0KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSBpZiAoY291bnRyeS50ZXN0KGNvdW50cnlJbnB1dC52YWx1ZSkpIHtcbiAgICByZW1vdmVGb3JtRXJyb3IoY291bnRyeUlucHV0KTtcbiAgfVxuXG4gIGlmICgoZS50YXJnZXQgPT09IHppcElucHV0IHx8IGUudHlwZSA9PT0gXCJzdWJtaXRcIikgJiZcbiAgICAhemlwY29kZS50ZXN0KHppcElucHV0LnZhbHVlKSkgXG4gIHtcbiAgICBhZGRGb3JtRXJyb3IoemlwSW5wdXQpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIGlmICh6aXBjb2RlLnRlc3QoemlwSW5wdXQudmFsdWUpKSB7XG4gICAgcmVtb3ZlRm9ybUVycm9yKHppcElucHV0KTtcbiAgfVxuXG4gIGlmICgoZS50YXJnZXQgPT09IHBhc3N3b3JkSW5wdXQgfHwgZS50eXBlID09PSBcInN1Ym1pdFwiKSAmJlxuICAgICFwYXNzd29yZC50ZXN0KHBhc3N3b3JkSW5wdXQudmFsdWUpKSBcbiAge1xuICAgIGFkZEZvcm1FcnJvcihwYXNzd29yZElucHV0LnBhcmVudEVsZW1lbnQpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIGlmIChwYXNzd29yZC50ZXN0KHBhc3N3b3JkSW5wdXQudmFsdWUpKSB7XG4gICAgcmVtb3ZlRm9ybUVycm9yKHBhc3N3b3JkSW5wdXQucGFyZW50RWxlbWVudCk7XG4gIH1cblxuICBpZiAoKGUudGFyZ2V0ID09PSBjb25maXJtUGFzc3dvcmQgfHwgZS50eXBlID09PSBcInN1Ym1pdFwiKSAmJlxuICAgIGNvbmZpcm1QYXNzd29yZC52YWx1ZSAhPT0gcGFzc3dvcmRJbnB1dC52YWx1ZSkgXG4gIHtcbiAgICBhZGRGb3JtRXJyb3IoY29uZmlybVBhc3N3b3JkLnBhcmVudEVsZW1lbnQpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICByZW1vdmVGb3JtRXJyb3IoY29uZmlybVBhc3N3b3JkLnBhcmVudEVsZW1lbnQpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBhZGRGb3JtRXJyb3IgPSAodGFyZ2V0KSA9PiB7XG4gIHJlbW92ZUZvcm1FcnJvcih0YXJnZXQpO1xuICB0YXJnZXQuY2xhc3NMaXN0LmFkZChcImludmFsaWRcIik7XG4gIHRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG59O1xuXG5jb25zdCByZW1vdmVGb3JtRXJyb3IgPSAodGFyZ2V0KSA9PiB7XG4gIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKFwiaW52YWxpZFwiKTtcbiAgdGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG59O1xuXG5jb25zdCBjaGVja0Vycm9yc09uU3VibWl0ID0gKGUpID0+IHtcbiAgaWYgKCF2YWxpZGF0ZUZpZWxkcyhlKSkge1xuICAgIHN1Ym1pdEVycm9yLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuICB9XG59XG5cbmNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21haW5cIik7XG5jb25zdCBzdWJtaXRWYWxpZEZvcm0gPSAoKSA9PiB7XG4gIHdoaWxlIChtYWluLmxhc3RDaGlsZCkge1xuICAgIG1haW4ucmVtb3ZlQ2hpbGQobWFpbi5sYXN0Q2hpbGQpO1xuICB9XG4gIGNvbnN0IGhlYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gIGhlYWRpbmcuY2xhc3NOYW1lID0gXCJmb3JtLXN1Y2Nlc3NcIjtcbiAgaGVhZGluZy5pbm5lclRleHQgPSBcIllvdSd2ZSBzdWJtaXR0ZWQgYSB2YWxpZCBmb3JtIVwiO1xuICBtYWluLmFwcGVuZENoaWxkKGhlYWRpbmcpO1xuICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gMDtcbn07XG5cbmV4cG9ydCB7IHRvZ2dsZVBhc3N3b3JkVmlzaWJpbGl0eSwgdmFsaWRhdGVGaWVsZHMsIHN1Ym1pdFZhbGlkRm9ybSwgY2hlY2tFcnJvcnNPblN1Ym1pdCB9O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IHt0b2dnbGVUaGVtZSwgdGhlbWVTd2l0Y2h9IGZyb20gXCIuL3NpdGUtc2V0dGluZ3NcIjtcbmltcG9ydCB7dG9nZ2xlUGFzc3dvcmRWaXNpYmlsaXR5LCB2YWxpZGF0ZUZpZWxkcywgc3VibWl0VmFsaWRGb3JtLCBjaGVja0Vycm9yc09uU3VibWl0fSBmcm9tIFwiLi9mb3JtXCI7XG5cbmNvbnN0IHNpdGVUaGVtZSA9ICgoKSA9PiB7XG4gIHRvZ2dsZVRoZW1lKCk7XG4gIHRoZW1lU3dpdGNoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0b2dnbGVUaGVtZSk7XG4gIHRoZW1lU3dpdGNoLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSBcIiBcIiB8fCBlLmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0b2dnbGVUaGVtZSgpO1xuICAgIH07XG4gIH0pO1xufSkoKTtcblxuY29uc3QgZm9ybUV2ZW50cyA9ICgoKSA9PiB7XG4gIGNvbnN0IHBhc3N3b3JkSWNvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBhc3N3b3JkLXZpc2liaWxpdHlcIik7XG4gIEFycmF5LmZyb20ocGFzc3dvcmRJY29ucykuZm9yRWFjaChpY29uID0+IHtcbiAgICBpY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgdG9nZ2xlUGFzc3dvcmRWaXNpYmlsaXR5KGUpO1xuICAgIH0pO1xuICB9KTtcblxuICBBcnJheS5mcm9tKHBhc3N3b3JkSWNvbnMpLmZvckVhY2goaWNvbiA9PiB7XG4gICAgaWNvbi5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSBcIiBcIiB8fCBlLmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgIHRvZ2dsZVBhc3N3b3JkVmlzaWJpbGl0eShlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgY29uc3QgZmllbGRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQ6bm90KFt0eXBlPVwic3VibWl0XCJdKScpO1xuICBBcnJheS5mcm9tKGZpZWxkcykuZm9yRWFjaChmaWVsZCA9PiB7XG4gICAgZmllbGQuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgdmFsaWRhdGVGaWVsZHMpXG4gIH0pXG5cbiAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJmb3JtXCIpO1xuICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY2hlY2tFcnJvcnNPblN1Ym1pdChlKTtcbiAgICBpZiAodmFsaWRhdGVGaWVsZHMoZSkpIHtcbiAgICAgIHN1Ym1pdFZhbGlkRm9ybSgpO1xuICAgIH1cbiAgfSlcbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIifQ==