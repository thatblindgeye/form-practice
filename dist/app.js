!function(){"use strict";const e=document.querySelector("#theme-switch"),t=t=>{"light"===document.documentElement.getAttribute("theme")?(e.setAttribute("aria-checked","false"),document.documentElement.setAttribute("theme","dark")):(e.setAttribute("aria-checked","true"),document.documentElement.setAttribute("theme","light"))},r={email:/^(\w*)(\.)?(\w*)@([A-Za-z]*)(\.([A-Za-z]{1,})){1,}$/,country:/^([a-z]+\s*){1,}$/i,zipcode:/^\d{5}$/,password:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{10,}$/},n=e=>{"false"===e.target.getAttribute("aria-checked")?(e.target.setAttribute("aria-pressed","true"),e.target.textContent="visibility",e.target.previousElementSibling.type="text"):(e.target.setAttribute("aria-pressed","false"),e.target.textContent="visibility_off",e.target.previousElementSibling.type="password")},i=document.querySelector("#email"),a=document.querySelector("#country"),l=document.querySelector("#zipcode"),s=document.querySelector("#password"),o=document.querySelector("#confirm-password"),u=document.querySelector("#submit-error"),c=e=>{const{email:t,country:n,zipcode:u,password:c}=r;return e.target!==i&&"submit"!==e.type||t.test(i.value)?(t.test(i.value)&&m(i),e.target!==a&&"submit"!==e.type||n.test(a.value)?(n.test(a.value)&&m(a),e.target!==l&&"submit"!==e.type||u.test(l.value)?(u.test(l.value)&&m(l),e.target!==s&&"submit"!==e.type||c.test(s.value)?(c.test(s.value)&&m(s.parentElement),e.target!==o&&"submit"!==e.type||o.value===s.value?(m(o.parentElement),!0):(d(o.parentElement),!1)):(d(s.parentElement),!1)):(d(l),!1)):(d(a),!1)):(d(i),!1)},d=e=>{e.classList.add("invalid"),e.nextElementSibling.style.display="inline-block"},m=e=>{e.classList.remove("invalid"),e.nextElementSibling.style.display="none"},y=document.querySelector("#main");t(),e.addEventListener("click",t),e.addEventListener("keydown",(e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),t())})),(()=>{const e=document.querySelectorAll(".password-visibility");Array.from(e).forEach((e=>{e.addEventListener("click",(e=>{n(e)}))})),Array.from(e).forEach((e=>{e.addEventListener("keydown",(e=>{" "!==e.key&&"Enter"!==e.key||n(e)}))}));const t=document.querySelectorAll('input:not([type="submit"])');Array.from(t).forEach((e=>{e.addEventListener("blur",c)})),document.querySelector("form").addEventListener("submit",(e=>{e.preventDefault(),(e=>{c(e)||(u.style.display="inline-block")})(e),c(e)&&(()=>{for(;y.lastChild;)y.removeChild(y.lastChild);const e=document.createElement("h2");e.className="form-success",e.innerText="You've submitted a valid form!",y.appendChild(e),document.documentElement.scrollTop=0})()}))})()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS8uL3NyYy9zaXRlLXNldHRpbmdzLmpzIiwid2VicGFjazovL3RlbXBsYXRlLy4vc3JjL2Zvcm0uanMiLCJ3ZWJwYWNrOi8vdGVtcGxhdGUvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsidGhlbWVTd2l0Y2giLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0b2dnbGVUaGVtZSIsImUiLCJkb2N1bWVudEVsZW1lbnQiLCJnZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJyZWdleCIsImVtYWlsIiwiY291bnRyeSIsInppcGNvZGUiLCJwYXNzd29yZCIsInRvZ2dsZVBhc3N3b3JkVmlzaWJpbGl0eSIsInRhcmdldCIsInRleHRDb250ZW50IiwicHJldmlvdXNFbGVtZW50U2libGluZyIsInR5cGUiLCJlbWFpbElucHV0IiwiY291bnRyeUlucHV0IiwiemlwSW5wdXQiLCJwYXNzd29yZElucHV0IiwiY29uZmlybVBhc3N3b3JkIiwic3VibWl0RXJyb3IiLCJ2YWxpZGF0ZUZpZWxkcyIsInRlc3QiLCJ2YWx1ZSIsInJlbW92ZUZvcm1FcnJvciIsInBhcmVudEVsZW1lbnQiLCJhZGRGb3JtRXJyb3IiLCJjbGFzc0xpc3QiLCJhZGQiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJzdHlsZSIsImRpc3BsYXkiLCJyZW1vdmUiLCJtYWluIiwiYWRkRXZlbnRMaXN0ZW5lciIsImtleSIsInByZXZlbnREZWZhdWx0IiwicGFzc3dvcmRJY29ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJBcnJheSIsImZyb20iLCJmb3JFYWNoIiwiaWNvbiIsImZpZWxkcyIsImZpZWxkIiwiY2hlY2tFcnJvcnNPblN1Ym1pdCIsImxhc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwiaGVhZGluZyIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJpbm5lclRleHQiLCJhcHBlbmRDaGlsZCIsInNjcm9sbFRvcCIsInN1Ym1pdFZhbGlkRm9ybSJdLCJtYXBw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QUF5QixVQUFWbEMsRUFBRWtDLEtBQ3JCekIsRUFBeUJULFNBSy9CLE1BQU0wQyxFQUFTN0MsU0FBU3dDLGlCQUFpQiw4QkFDekNDLE1BQU1DLEtBQUtHLEdBQVFGLFNBQVFHLElBQ3pCQSxFQUFNVixpQkFBaUIsT0FBUWIsTUFHcEJ2QixTQUFTQyxjQUFjLFFBQy9CbUMsaUJBQWlCLFVBQVdqQyxJQUMvQkEsRUFBRW1DLGlCRGlEc0IsQ0FBQ25DLElBQ3RCb0IsRUFBZXBCLEtBQ2xCbUIsRUFBWVUsTUFBTUMsUUFBVSxpQkNsRDVCYyxDQUFvQjVDLEdBQ2hCb0IsRUFBZXBCLElEc0RDLE1BQ3RCLEtBQU9nQyxFQUFLYSxXQUNWYixFQUFLYyxZQUFZZCxFQUFLYSxXQUV4QixNQUFNRSxFQUFVbEQsU0FBU21ELGNBQWMsTUFDdkNELEVBQVFFLFVBQVksZUFDcEJGLEVBQVFHLFVBQVksaUNBQ3BCbEIsRUFBS21CLFlBQVlKLEdBQ2pCbEQsU0FBU0ksZ0JBQWdCbUQsVUFBWSxHQzdEakNDLE9BMUJhLEciLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgY29uc3QgdGhlbWVTd2l0Y2ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RoZW1lLXN3aXRjaFwiKTtcblxuICBjb25zdCBkYXJrVGhlbWUgPSAoKSA9PiB7XG4gICAgdGhlbWVTd2l0Y2guc2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIsIFwiZmFsc2VcIik7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcInRoZW1lXCIsIFwiZGFya1wiKTtcbiAgfTtcblxuICBjb25zdCBsaWdodFRoZW1lID0gKCkgPT4ge1xuICAgIHRoZW1lU3dpdGNoLnNldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiLCBcInRydWVcIik7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcInRoZW1lXCIsIFwibGlnaHRcIik7XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlVGhlbWUgPSAoZSkgPT4ge1xuICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwidGhlbWVcIikgPT09IFwibGlnaHRcIikge1xuICAgICAgZGFya1RoZW1lKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpZ2h0VGhlbWUoKTtcbiAgICB9O1xuICB9O1xuXG5cbmV4cG9ydCB7dG9nZ2xlVGhlbWUsIHRoZW1lU3dpdGNofSIsIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCByZWdleCA9IHtcbiAgZW1haWw6IC9eKFxcdyopKFxcLik/KFxcdyopQChbQS1aYS16XSopKFxcLihbQS1aYS16XXsxLH0pKXsxLH0kLyxcbiAgY291bnRyeTogL14oW2Etel0rXFxzKil7MSx9JC9pLFxuICB6aXBjb2RlOiAvXlxcZHs1fSQvLFxuICBwYXNzd29yZDogL14oPz0uKlthLXpdKSg/PS4qW0EtWl0pKD89LipcXGQpW2EtekEtWlxcZF17MTAsfSQvLFxufTtcblxuY29uc3QgdG9nZ2xlUGFzc3dvcmRWaXNpYmlsaXR5ID0gKGUpID0+IHtcbiAgaWYgKGUudGFyZ2V0LmdldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiKSA9PT0gXCJmYWxzZVwiKSB7XG4gICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsIFwidHJ1ZVwiKTtcbiAgICBlLnRhcmdldC50ZXh0Q29udGVudCA9IFwidmlzaWJpbGl0eVwiO1xuICAgIGUudGFyZ2V0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcudHlwZSA9IFwidGV4dFwiO1xuICB9IGVsc2Uge1xuICAgIGUudGFyZ2V0LnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLCBcImZhbHNlXCIpO1xuICAgIGUudGFyZ2V0LnRleHRDb250ZW50ID0gXCJ2aXNpYmlsaXR5X29mZlwiO1xuICAgIGUudGFyZ2V0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcudHlwZSA9IFwicGFzc3dvcmRcIjtcbiAgfVxufTtcblxuY29uc3QgZW1haWxJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZW1haWxcIik7XG5jb25zdCBjb3VudHJ5SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvdW50cnlcIik7XG5jb25zdCB6aXBJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjemlwY29kZVwiKTtcbmNvbnN0IHBhc3N3b3JkSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Bhc3N3b3JkXCIpO1xuY29uc3QgY29uZmlybVBhc3N3b3JkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb25maXJtLXBhc3N3b3JkXCIpO1xuY29uc3Qgc3VibWl0RXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3N1Ym1pdC1lcnJvclwiKTtcblxuY29uc3QgdmFsaWRhdGVGaWVsZHMgPSAoZSkgPT4ge1xuICBjb25zdCB7IGVtYWlsLCBjb3VudHJ5LCB6aXBjb2RlLCBwYXNzd29yZCB9ID0gcmVnZXg7XG5cbiAgaWYgKChlLnRhcmdldCA9PT0gZW1haWxJbnB1dCB8fCBlLnR5cGUgPT09IFwic3VibWl0XCIpICYmIFxuICAgICAgIWVtYWlsLnRlc3QoZW1haWxJbnB1dC52YWx1ZSkpIFxuICB7XG4gICAgYWRkRm9ybUVycm9yKGVtYWlsSW5wdXQpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIGlmIChlbWFpbC50ZXN0KGVtYWlsSW5wdXQudmFsdWUpKSB7XG4gICAgcmVtb3ZlRm9ybUVycm9yKGVtYWlsSW5wdXQpO1xuICB9XG5cbiAgaWYgKChlLnRhcmdldCA9PT0gY291bnRyeUlucHV0IHx8IGUudHlwZSA9PT0gXCJzdWJtaXRcIikgJiZcbiAgICAhY291bnRyeS50ZXN0KGNvdW50cnlJbnB1dC52YWx1ZSkpIFxuICB7XG4gICAgYWRkRm9ybUVycm9yKGNvdW50cnlJbnB1dCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2UgaWYgKGNvdW50cnkudGVzdChjb3VudHJ5SW5wdXQudmFsdWUpKSB7XG4gICAgcmVtb3ZlRm9ybUVycm9yKGNvdW50cnlJbnB1dCk7XG4gIH1cblxuICBpZiAoKGUudGFyZ2V0ID09PSB6aXBJbnB1dCB8fCBlLnR5cGUgPT09IFwic3VibWl0XCIpICYmXG4gICAgIXppcGNvZGUudGVzdCh6aXBJbnB1dC52YWx1ZSkpIFxuICB7XG4gICAgYWRkRm9ybUVycm9yKHppcElucHV0KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSBpZiAoemlwY29kZS50ZXN0KHppcElucHV0LnZhbHVlKSkge1xuICAgIHJlbW92ZUZvcm1FcnJvcih6aXBJbnB1dCk7XG4gIH1cblxuICBpZiAoKGUudGFyZ2V0ID09PSBwYXNzd29yZElucHV0IHx8IGUudHlwZSA9PT0gXCJzdWJtaXRcIikgJiZcbiAgICAhcGFzc3dvcmQudGVzdChwYXNzd29yZElucHV0LnZhbHVlKSkgXG4gIHtcbiAgICBhZGRGb3JtRXJyb3IocGFzc3dvcmRJbnB1dC5wYXJlbnRFbGVtZW50KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSBpZiAocGFzc3dvcmQudGVzdChwYXNzd29yZElucHV0LnZhbHVlKSkge1xuICAgIHJlbW92ZUZvcm1FcnJvcihwYXNzd29yZElucHV0LnBhcmVudEVsZW1lbnQpO1xuICB9XG5cbiAgaWYgKChlLnRhcmdldCA9PT0gY29uZmlybVBhc3N3b3JkIHx8IGUudHlwZSA9PT0gXCJzdWJtaXRcIikgJiZcbiAgICBjb25maXJtUGFzc3dvcmQudmFsdWUgIT09IHBhc3N3b3JkSW5wdXQudmFsdWUpIFxuICB7XG4gICAgYWRkRm9ybUVycm9yKGNvbmZpcm1QYXNzd29yZC5wYXJlbnRFbGVtZW50KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgcmVtb3ZlRm9ybUVycm9yKGNvbmZpcm1QYXNzd29yZC5wYXJlbnRFbGVtZW50KTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuY29uc3QgYWRkRm9ybUVycm9yID0gKHRhcmdldCkgPT4ge1xuICB0YXJnZXQuY2xhc3NMaXN0LmFkZChcImludmFsaWRcIik7XG4gIHRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG59O1xuXG5jb25zdCByZW1vdmVGb3JtRXJyb3IgPSAodGFyZ2V0KSA9PiB7XG4gIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKFwiaW52YWxpZFwiKTtcbiAgdGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG59O1xuXG5jb25zdCBjaGVja0Vycm9yc09uU3VibWl0ID0gKGUpID0+IHtcbiAgaWYgKCF2YWxpZGF0ZUZpZWxkcyhlKSkge1xuICAgIHN1Ym1pdEVycm9yLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuICB9XG59XG5cbmNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21haW5cIik7XG5jb25zdCBzdWJtaXRWYWxpZEZvcm0gPSAoKSA9PiB7XG4gIHdoaWxlIChtYWluLmxhc3RDaGlsZCkge1xuICAgIG1haW4ucmVtb3ZlQ2hpbGQobWFpbi5sYXN0Q2hpbGQpO1xuICB9XG4gIGNvbnN0IGhlYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gIGhlYWRpbmcuY2xhc3NOYW1lID0gXCJmb3JtLXN1Y2Nlc3NcIjtcbiAgaGVhZGluZy5pbm5lclRleHQgPSBcIllvdSd2ZSBzdWJtaXR0ZWQgYSB2YWxpZCBmb3JtIVwiO1xuICBtYWluLmFwcGVuZENoaWxkKGhlYWRpbmcpO1xuICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gMDtcbn07XG5cbmV4cG9ydCB7IHRvZ2dsZVBhc3N3b3JkVmlzaWJpbGl0eSwgdmFsaWRhdGVGaWVsZHMsIHN1Ym1pdFZhbGlkRm9ybSwgY2hlY2tFcnJvcnNPblN1Ym1pdCB9O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IHt0b2dnbGVUaGVtZSwgdGhlbWVTd2l0Y2h9IGZyb20gXCIuL3NpdGUtc2V0dGluZ3NcIjtcbmltcG9ydCB7dG9nZ2xlUGFzc3dvcmRWaXNpYmlsaXR5LCB2YWxpZGF0ZUZpZWxkcywgc3VibWl0VmFsaWRGb3JtLCBjaGVja0Vycm9yc09uU3VibWl0fSBmcm9tIFwiLi9mb3JtXCI7XG5cbmNvbnN0IHNpdGVUaGVtZSA9ICgoKSA9PiB7XG4gIHRvZ2dsZVRoZW1lKCk7XG4gIHRoZW1lU3dpdGNoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0b2dnbGVUaGVtZSk7XG4gIHRoZW1lU3dpdGNoLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSBcIiBcIiB8fCBlLmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0b2dnbGVUaGVtZSgpO1xuICAgIH07XG4gIH0pO1xufSkoKTtcblxuY29uc3QgZm9ybUV2ZW50cyA9ICgoKSA9PiB7XG4gIGNvbnN0IHBhc3N3b3JkSWNvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBhc3N3b3JkLXZpc2liaWxpdHlcIik7XG4gIEFycmF5LmZyb20ocGFzc3dvcmRJY29ucykuZm9yRWFjaChpY29uID0+IHtcbiAgICBpY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgdG9nZ2xlUGFzc3dvcmRWaXNpYmlsaXR5KGUpO1xuICAgIH0pO1xuICB9KTtcblxuICBBcnJheS5mcm9tKHBhc3N3b3JkSWNvbnMpLmZvckVhY2goaWNvbiA9PiB7XG4gICAgaWNvbi5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSBcIiBcIiB8fCBlLmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgIHRvZ2dsZVBhc3N3b3JkVmlzaWJpbGl0eShlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgY29uc3QgZmllbGRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQ6bm90KFt0eXBlPVwic3VibWl0XCJdKScpO1xuICBBcnJheS5mcm9tKGZpZWxkcykuZm9yRWFjaChmaWVsZCA9PiB7XG4gICAgZmllbGQuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgdmFsaWRhdGVGaWVsZHMpXG4gIH0pXG5cbiAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJmb3JtXCIpO1xuICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY2hlY2tFcnJvcnNPblN1Ym1pdChlKTtcbiAgICBpZiAodmFsaWRhdGVGaWVsZHMoZSkpIHtcbiAgICAgIHN1Ym1pdFZhbGlkRm9ybSgpO1xuICAgIH1cbiAgfSlcbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIifQ==